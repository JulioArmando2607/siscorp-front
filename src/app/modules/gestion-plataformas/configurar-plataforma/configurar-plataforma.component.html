<div class="prose prose-sm max-w-4xl overflow-y-auto max-h-screen">

    <!-- Header sin franja morada, con botón a la izquierda y título centrado -->
    <div class="flex h-16 flex-0 items-center justify-between border-b px-4">
  
      <!-- Botón de cerrar a la izquierda -->
      <button mat-icon-button (click)="matDialogRef.close()" [tabIndex]="-1">
        <mat-icon class="text-gray-500" [svgIcon]="'heroicons_outline:x-mark'"></mat-icon>
      </button>
  
      <!-- Título centrado -->
      <div class="flex-1 text-center text-lg font-medium">{{title}}</div>
  
      <!-- Espacio vacío para mantener el título centrado -->
      <div class="w-10"></div>
    </div>
  
    <form class="flex w-full flex-col" [formGroup]="FormRegistro" (ngSubmit)="save()">
  
      <!-- Sección para adjuntar archivos -->
      <div class="flex flex-col gap-4 px-8 pb-4">
  
        <!-- Cargar Partidas -->
        <div class="flex items-center gap-4">
          <button mat-icon-button (click)="filePartidasInput.click()" type="button">
            <mat-icon [svgIcon]="'heroicons_outline:paper-clip'"></mat-icon>
          </button>
          <p>Agregar Partidas</p>
  
          <!-- Input de archivo oculto para partidas -->
          <input #filePartidasInput type="file" (change)="onFileSelected($event, 'partidas')" hidden />
  
          <!-- Mostrar nombre del archivo si se selecciona -->
          <div *ngIf="selectedPartidasFile" class="flex items-center gap-2">
            <span>{{ selectedPartidasFile.name }}</span>
            <button mat-icon-button (click)="removeFile('partidas')">
              <mat-icon>close</mat-icon>
            </button>
          </div>
        </div>
  
        <!-- Cargar Precios Unitarios -->
        <div class="flex items-center gap-4">
          <button mat-icon-button (click)="filePreciosInput.click()" type="button">
            <mat-icon [svgIcon]="'heroicons_outline:paper-clip'"></mat-icon>
          </button>
          <p>Agregar Precios Unitarios</p>
  
          <!-- Input de archivo oculto para precios unitarios -->
          <input #filePreciosInput type="file" (change)="onFileSelected($event, 'precios')" hidden />
  
          <!-- Mostrar nombre del archivo si se selecciona -->
          <div *ngIf="selectedPreciosFile" class="flex items-center gap-2">
            <span>{{ selectedPreciosFile.name }}</span>
            <button mat-icon-button (click)="removeFile('precios')">
              <mat-icon>close</mat-icon>
            </button>
          </div>
        </div>
      </div>
  
      <!-- Botón de enviar -->
      <div class="flex w-full items-center justify-end px-8 py-4">
        <button mat-flat-button color="warn" type="button" (click)="cancelar()">
          Cancelar
        </button>
        <button mat-flat-button color="primary" type="submit"
          [disabled]="!selectedPartidasFile || !selectedPreciosFile">
          Guardar
        </button>
      </div>
  
    </form>
  </div>